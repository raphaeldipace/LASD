module banco_regs(
  input clk,
  input rst,
  input we3,
  input [2:0] ra1, // saida do mux 1 (endereço do registrador que cujo valor vai sair)
  input [2:0] ra2, // saida do mux 2 (endereço do registrador que cujo valor vai sair)
  input [2:0] wa3, // endereço do reg que vai receber o dado
  input [7:0] wd3, // dados a serem escritos
  output reg [7:0] rd1, // saída dos dados
  output reg [7:0] rd2 // saida dos dados
);

  reg [7:0] regs[0:7];

  always @(posedge clk, negedge rst) begin
    if(~rst) begin
      regs <= 8'b0;
    end
    else begin
      if(wa3 != 3'b000 && we3 == 1) begin
        regs[wa3] <= wd3;
      end
    end
  end

  assign rd1 = (ra1 == 3'b000) ? 8'b0 : regs[ra1];
  assign rd2 = (ra2 == 3'b000) ? 8'b0 : regs[ra2];

endmodule
